/**
 * nokit-pjax - A pjax module
 * @version v0.2.0
 * @link https://github.com/nokitjs/nokit-filter-pajax#readme
 * @license MIT
 * @author 
 * @email 
 */
!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.NProgress=e()}(this,function(){function t(t,e,n){return e>t?e:t>n?n:t}function e(t){return 100*(-1+t)}function n(t,n,r){var i;return i="translate3d"===c.positionUsing?{transform:"translate3d("+e(t)+"%,0,0)"}:"translate"===c.positionUsing?{transform:"translate("+e(t)+"%,0)"}:{"margin-left":e(t)+"%"},i.transition="all "+n+"ms "+r,i}function r(t,e){var n="string"==typeof t?t:s(t);return n.indexOf(" "+e+" ")>=0}function i(t,e){var n=s(t),i=n+e;r(n,e)||(t.className=i.substring(1))}function o(t,e){var n,i=s(t);r(t,e)&&(n=i.replace(" "+e+" "," "),t.className=n.substring(1,n.length-1))}function s(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function a(t){t&&t.parentNode&&t.parentNode.removeChild(t)}var u={};u.version="0.2.0";var c=u.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};u.configure=function(t){var e,n;for(e in t)n=t[e],void 0!==n&&t.hasOwnProperty(e)&&(c[e]=n);return this},u.status=null,u.set=function(e){var r=u.isStarted();e=t(e,c.minimum,1),u.status=1===e?null:e;var i=u.render(!r),o=i.querySelector(c.barSelector),s=c.speed,a=c.easing;return i.offsetWidth,l(function(t){""===c.positionUsing&&(c.positionUsing=u.getPositioningCSS()),d(o,n(e,s,a)),1===e?(d(i,{transition:"none",opacity:1}),i.offsetWidth,setTimeout(function(){d(i,{transition:"all "+s+"ms linear",opacity:0}),setTimeout(function(){u.remove(),t()},s)},s)):setTimeout(t,s)}),this},u.isStarted=function(){return"number"==typeof u.status},u.start=function(){u.status||u.set(0);var t=function(){setTimeout(function(){u.status&&(u.trickle(),t())},c.trickleSpeed)};return c.trickle&&t(),this},u.done=function(t){return t||u.status?u.inc(.3+.5*Math.random()).set(1):this},u.inc=function(e){var n=u.status;return n?("number"!=typeof e&&(e=(1-n)*t(Math.random()*n,.1,.95)),n=t(n+e,0,.994),u.set(n)):u.start()},u.trickle=function(){return u.inc(Math.random()*c.trickleRate)},function(){var t=0,e=0;u.promise=function(n){return n&&"resolved"!==n.state()?(0===e&&u.start(),t++,e++,n.always(function(){e--,0===e?(t=0,u.done()):u.set((t-e)/t)}),this):this}}(),u.render=function(t){if(u.isRendered())return document.getElementById("nprogress");i(document.documentElement,"nprogress-busy");var n=document.createElement("div");n.id="nprogress",n.innerHTML=c.template;var r,o=n.querySelector(c.barSelector),s=t?"-100":e(u.status||0),l=document.querySelector(c.parent);return d(o,{transition:"all 0 linear",transform:"translate3d("+s+"%,0,0)"}),c.showSpinner||(r=n.querySelector(c.spinnerSelector),r&&a(r)),l!=document.body&&i(l,"nprogress-custom-parent"),l.appendChild(n),n},u.remove=function(){o(document.documentElement,"nprogress-busy"),o(document.querySelector(c.parent),"nprogress-custom-parent");var t=document.getElementById("nprogress");t&&a(t)},u.isRendered=function(){return!!document.getElementById("nprogress")},u.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};var l=function(){function t(){var n=e.shift();n&&n(t)}var e=[];return function(n){e.push(n),1==e.length&&t()}}(),d=function(){function t(t){return t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()})}function e(t){var e=document.body.style;if(t in e)return t;for(var n,r=i.length,o=t.charAt(0).toUpperCase()+t.slice(1);r--;)if(n=i[r]+o,n in e)return n;return t}function n(n){return n=t(n),o[n]||(o[n]=e(n))}function r(t,e,r){e=n(e),t.style[e]=r}var i=["Webkit","O","Moz","ms"],o={};return function(t,e){var n,i,o=arguments;if(2==o.length)for(n in e)i=e[n],void 0!==i&&e.hasOwnProperty(n)&&r(t,n,i);else r(t,o[1],o[2])}}();return u}),function(t,e,n){var r="onprogress"in t.ajaxSettings.xhr();if(r){var i=t.ajaxSettings.xhr;t.ajaxSettings.xhr=function(){var t=i();return t instanceof e.XMLHttpRequest&&t.addEventListener("progress",this.progress,!1),t.upload&&t.upload.addEventListener("progress",this.progress,!1),t}}}(jQuery,window),function(t,e,n,r,i,o){n.history.pushState&&(t.options={},t.progress=o,t.CONTAINER_PARAM="x-pjax-container",t.CONTAINER_ATTR_NAME="data-pjax-container",t.URL_ATTR_NAME="data-pjax-url",t.EVENT_NAME="click",t.FORM_EVENT_NAME="submit",t.REDIRECT_ENABLED="x-pjax-redirect",t.REDIRECT_ATTR_NAME="data-pjax-redirect",t.wrapUrl=function(t){if(!t)return t;var e=t.split("#"),n=e[1];return t=e[0]+(t.indexOf("?")>-1?"&":"?")+"__t="+Date.now(),n?t+"#"+n:t},t.request=function(n,r){o.start(),t.pjaxBegin&&t.pjaxBegin(),n.type=n.type||"GET",n.dataType="json",n._success=n.success,n.success=function(e){e&&e.__location__?location.href=e.__location__:(r&&r(e),n._success&&n._success(e),t.pjaxEnd&&t.pjaxEnd(e))},n.progress=function(e){if(!t.fakeProgress&&e.lengthComputable){var n=e.loaded/e.total;o.set(n)}},n.headers=n.headers||{},n.headers[t.CONTAINER_PARAM]=n.containers,n.headers[t.REDIRECT_ENABLED]=n.redirectEnabled;var i=n.url;return n.url=t.wrapUrl(n.url),e.ajax(n),n.url=i,t},t.render=function(n){if(!n)return t;null!==n.title&&n.title!==i&&(r.title=n.title);for(var s in n)"title"!=s&&null!==n[s]&&n[s]!==i&&e(s).html(n[s]);return o.done(),t},t.pushState=function(e,r){return r=r||{},n.history.pushState(r,r.title,e),t},t.submit=function(e,n){return t.request(e,function(i){t.render(i),t.pushState(e.url,i);var o=e.url.split("#")[1];o?location.href="#"+o:t.options.goTop&&(r.body.scrollTop=0,r.body.scrollLeft=0),n&&n()}),t},t.fireEvent=function(t,e,n,i,o){var s=r.createEvent("HTMLEvents");s.initEvent(e,i,o),s.data=n,s.target=t,t.dispatchEvent(s)},e(function(){e(r).on(t.EVENT_NAME,"["+t.CONTAINER_ATTR_NAME+"]",function(n){var r=e(this),i=r.attr(t.URL_ATTR_NAME)||r.attr("href"),o=r.attr(t.CONTAINER_ATTR_NAME),s=r.attr(t.REDIRECT_ATTR_NAME);return!i||!o||o.length<1?void 0:(t.fireEvent(r[0],"pjaxBegin"),t.submit({url:i,containers:o,redirectEnabled:s},function(){t.fireEvent(r[0],"pjaxEnd")}),n.preventDefault(),!1)}),e(r).on(t.FORM_EVENT_NAME,"form["+t.CONTAINER_ATTR_NAME+"]",function(n){if("undefined"!=typeof FormData){var r=e(this),i=r.attr("action")||location.href,o=r.attr(t.CONTAINER_ATTR_NAME),s=r.attr(t.REDIRECT_ATTR_NAME),a=r.attr("method")||"POST";if(i&&o&&!(o.length<1)){t.fireEvent(r[0],"pjaxBegin");var u=new FormData(this);return t.submit({url:i,type:a,containers:o,redirectEnabled:s,data:u,processData:!1,contentType:!1},function(){t.fireEvent(r[0],"pjaxEnd")}),n.preventDefault(),!1}}}),e(n).on("popstate",function(e){t.render(n.history.state)})}))}(window.pjax=window.pjax||{},jQuery,window,document,void 0,NProgress);