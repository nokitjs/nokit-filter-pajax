/**
 * nokit-pjax - A pjax module
 * @version v0.1.6
 * @link https://github.com/nokitjs/nokit-filter-pajax#readme
 * @license MIT
 * @author 
 * @email 
 */
!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.NProgress=e()}(this,function(){function t(t,e,n){return e>t?e:t>n?n:t}function e(t){return 100*(-1+t)}function n(t,n,r){var s;return s="translate3d"===c.positionUsing?{transform:"translate3d("+e(t)+"%,0,0)"}:"translate"===c.positionUsing?{transform:"translate("+e(t)+"%,0)"}:{"margin-left":e(t)+"%"},s.transition="all "+n+"ms "+r,s}function r(t,e){var n="string"==typeof t?t:o(t);return n.indexOf(" "+e+" ")>=0}function s(t,e){var n=o(t),s=n+e;r(n,e)||(t.className=s.substring(1))}function i(t,e){var n,s=o(t);r(t,e)&&(n=s.replace(" "+e+" "," "),t.className=n.substring(1,n.length-1))}function o(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function a(t){t&&t.parentNode&&t.parentNode.removeChild(t)}var u={};u.version="0.2.0";var c=u.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};u.configure=function(t){var e,n;for(e in t)n=t[e],void 0!==n&&t.hasOwnProperty(e)&&(c[e]=n);return this},u.status=null,u.set=function(e){var r=u.isStarted();e=t(e,c.minimum,1),u.status=1===e?null:e;var s=u.render(!r),i=s.querySelector(c.barSelector),o=c.speed,a=c.easing;return s.offsetWidth,l(function(t){""===c.positionUsing&&(c.positionUsing=u.getPositioningCSS()),f(i,n(e,o,a)),1===e?(f(s,{transition:"none",opacity:1}),s.offsetWidth,setTimeout(function(){f(s,{transition:"all "+o+"ms linear",opacity:0}),setTimeout(function(){u.remove(),t()},o)},o)):setTimeout(t,o)}),this},u.isStarted=function(){return"number"==typeof u.status},u.start=function(){u.status||u.set(0);var t=function(){setTimeout(function(){u.status&&(u.trickle(),t())},c.trickleSpeed)};return c.trickle&&t(),this},u.done=function(t){return t||u.status?u.inc(.3+.5*Math.random()).set(1):this},u.inc=function(e){var n=u.status;return n?("number"!=typeof e&&(e=(1-n)*t(Math.random()*n,.1,.95)),n=t(n+e,0,.994),u.set(n)):u.start()},u.trickle=function(){return u.inc(Math.random()*c.trickleRate)},function(){var t=0,e=0;u.promise=function(n){return n&&"resolved"!==n.state()?(0===e&&u.start(),t++,e++,n.always(function(){e--,0===e?(t=0,u.done()):u.set((t-e)/t)}),this):this}}(),u.render=function(t){if(u.isRendered())return document.getElementById("nprogress");s(document.documentElement,"nprogress-busy");var n=document.createElement("div");n.id="nprogress",n.innerHTML=c.template;var r,i=n.querySelector(c.barSelector),o=t?"-100":e(u.status||0),l=document.querySelector(c.parent);return f(i,{transition:"all 0 linear",transform:"translate3d("+o+"%,0,0)"}),c.showSpinner||(r=n.querySelector(c.spinnerSelector),r&&a(r)),l!=document.body&&s(l,"nprogress-custom-parent"),l.appendChild(n),n},u.remove=function(){i(document.documentElement,"nprogress-busy"),i(document.querySelector(c.parent),"nprogress-custom-parent");var t=document.getElementById("nprogress");t&&a(t)},u.isRendered=function(){return!!document.getElementById("nprogress")},u.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};var l=function(){function t(){var n=e.shift();n&&n(t)}var e=[];return function(n){e.push(n),1==e.length&&t()}}(),f=function(){function t(t){return t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()})}function e(t){var e=document.body.style;if(t in e)return t;for(var n,r=s.length,i=t.charAt(0).toUpperCase()+t.slice(1);r--;)if(n=s[r]+i,n in e)return n;return t}function n(n){return n=t(n),i[n]||(i[n]=e(n))}function r(t,e,r){e=n(e),t.style[e]=r}var s=["Webkit","O","Moz","ms"],i={};return function(t,e){var n,s,i=arguments;if(2==i.length)for(n in e)s=e[n],void 0!==s&&e.hasOwnProperty(n)&&r(t,n,s);else r(t,i[1],i[2])}}();return u}),function(t,e,n){var r="onprogress"in t.ajaxSettings.xhr();if(r){var s=t.ajaxSettings.xhr;t.ajaxSettings.xhr=function(){var t=s();return t instanceof e.XMLHttpRequest&&t.addEventListener("progress",this.progress,!1),t.upload&&t.upload.addEventListener("progress",this.progress,!1),t}}}(jQuery,window),function(t,e,n,r,s,i){n.history.pushState&&(t.options={},t.progress=i,t.CONTAINER_PARAM="x-pjax-container",t.CONTAINER_ATTR_NAME="data-pjax-container",t.URL_ATTR_NAME="data-pjax-url",t.EVENT_NAME="click",t.FORM_EVENT_NAME="submit",t.wrapUrl=function(t){if(!t)return t;var e=t.split("#"),n=e[1];return t=e[0]+(t.indexOf("?")>-1?"&":"?")+"__t="+Date.now(),n?t+"#"+n:t},t.request=function(n,r){i.start(),n.type=n.type||"GET",n.dataType="json",n._success=n.success,n.success=function(e){e&&e.__location__?location.href=e.__location__:(r&&r(e),n._success&&n._success(e),t.success&&t.success(e))},n.progress=function(t){if(t.lengthComputable){var e=t.loaded/t.total;i.set(e)}},n.headers=n.headers||{},n.headers[t.CONTAINER_PARAM]=n.containers;var s=n.url;return n.url=t.wrapUrl(n.url),e.ajax(n),n.url=s,t},t.render=function(n){if(t.elements=t.elements||{},!n)return t;null!==n.title&&n.title!==s&&(r.title=n.title);for(var o in n)"title"!=o&&null!==n[o]&&n[o]!==s&&(t.elements[o]=t.elements[o]||e(o),t.elements[o].html(n[o]));return i.done(),t},t.pushState=function(e,r){return r=r||{},n.history.pushState(r,r.title,e),t},t.submit=function(e,n){return t.request(e,function(s){t.render(s),t.pushState(e.url,s);var i=e.url.split("#")[1];i?location.href="#"+i:t.options.goTop&&(r.body.scrollTop=0,r.body.scrollLeft=0),n&&n()}),t},t.fireEvent=function(t,e,n,s,i){var o=r.createEvent("HTMLEvents");o.initEvent(e,s,i),o.data=n,o.target=t,t.dispatchEvent(o)},e(function(){e(r).on(t.EVENT_NAME,"["+t.CONTAINER_ATTR_NAME+"]",function(n){var r=e(this),s=r.attr(t.URL_ATTR_NAME)||r.attr("href"),i=r.attr(t.CONTAINER_ATTR_NAME);!s||!i||i.length<1||(t.submit({url:s,containers:i},function(){t.fireEvent(r[0],"success")}),n.preventDefault())}),e(r).on(t.FORM_EVENT_NAME,"form["+t.CONTAINER_ATTR_NAME+"]",function(n){if("undefined"!=typeof FormData){var r=e(this),s=r.attr("action")||location.href,i=r.attr(t.CONTAINER_ATTR_NAME),o=r.attr("method")||"POST";if(s&&i&&!(i.length<1)){var a=new FormData(this);t.submit({url:s,type:o,containers:i,data:a,processData:!1,contentType:!1},function(){t.fireEvent(r[0],"success")}),n.preventDefault()}}}),e(n).on("popstate",function(e){t.render(n.history.state)})}))}(window.pjax=window.pjax||{},jQuery,window,document,void 0,NProgress);